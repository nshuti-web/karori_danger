name: BetPawa Aviator Auto-Claim
on:
  schedule:
    - cron: '*/15 15-22 * * *'  # Every 15min 3-11pm UTC
    - cron: '0 23 * * *'        # 11pm UTC

jobs:
  auto-claim:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          
      - name: Install dependencies
        run: pip install selenium webdriver-manager
        
      - name: Setup Chrome + ChromeDriver  # AUTO-MATCHES VERSIONS
        uses: nanasess/setup-chromedriver@v2
        
      - name: Run BetPawa Auto-Claim
        run: python autoclm1.py
        
      - name: Upload Logs & Results
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: betpawa-logs
          path: |
            claim_log.txt
            session_cookies.json
